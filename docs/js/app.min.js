(()=>{"use strict";$((function(){function e(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function t(e){const t=e.replace(/\D/g,"");return t.length>=10&&/^[1-9]\d{9,14}$/.test(t)}"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1,closeClick:"outside"}),$(document).on("click",(function(e){const t=$(e.target);if((t.is(".catalog__close")||!t.closest(".catalog").length&&$(".catalog").hasClass("catalog--open"))&&($(".catalog").removeClass("catalog--open"),$("body").removeClass("catalog-lock")),t.closest(".header__catalog").length&&($(".catalog").addClass("catalog--open"),$("body").addClass("catalog-lock")),t.closest(".catalog__search-reset").length&&($(".catalog__search-input").val("").trigger("input"),$(".catalog__searchbar").removeClass("active")),t.closest(".catalog__categories-btn").length){const e=t.closest(".catalog__categories-btn"),a=e.parent().index();$(".catalog__categories-btn").removeClass("active"),e.addClass("active"),$(".catalog__block").removeClass("active"),$(".catalog__block").eq(a).addClass("active")}if(t.closest(".menu__btn").length){const e=t.closest(".menu__btn").parent();window.matchMedia("(max-width: 1300px)").matches?(e.toggleClass("active"),e.find(".submenu").slideToggle(300)):e.hasClass("active")?e.removeClass("active"):($(".menu__item.active").removeClass("active"),e.addClass("active"))}t.closest(".menu__btn").length||t.closest(".menu").length||$(".menu__item.active").removeClass("active"),t.closest(".menu").length||t.closest(".icon-menu").length||$(".menu__item.active").removeClass("active"),t.closest(".icon-menu").length&&($(".icon-menu").toggleClass("active"),$(".menu").toggleClass("menu--open"),$("body").toggleClass("menu-lock")),!$(".menu").hasClass("menu--open")||t.closest(".menu").length||t.closest(".icon-menu").length||($(".icon-menu").removeClass("active"),$(".menu").removeClass("menu--open"),$("body").removeClass("menu-lock")),t.is(".fancybox__backdrop")&&console.log("tatata")})),$(document).on("keydown",(function(e){"Escape"===e.key&&$(".catalog").hasClass("catalog--open")&&($(".catalog").removeClass("catalog--open"),$("body").removeClass("catalog-lock"))})),$(".catalog__search-input").on("input",(function(){const e=$(this).val().toLowerCase(),t=$(".catalog__search-reset");e.length>0?(t.addClass("active"),$(".catalog__searchbar").addClass("active")):(t.removeClass("active"),$(".catalog__searchbar").removeClass("active"))})),$("form").each((function(){var a;(a=$(this)).on("submit",(function(s){let n=!0;a.find("[data-required]").each((function(){const a=$(this),s=a.attr("type"),i=a.attr("name");a.removeClass("_error"),a.parent().removeClass("_error"),("checkbox"===s&&!a.is(":checked")||"phone"===i&&!t(a.val())||"email"===i&&!e(a.val())||""===a.val().trim())&&(a.addClass("_error"),n=!1)})),n||s.preventDefault()})),a.find("[data-required]").on("input change",(function(){const a=$(this),s=a.attr("type"),n=a.attr("name");"checkbox"===s?a.is(":checked")&&a.removeClass("_error"):"phone"===n?t(a.val())&&a.removeClass("_error"):"email"===n?e(a.val())&&a.removeClass("_error"):""!==a.val().trim()&&a.removeClass("_error")}))})),$(".form__field > .form__control").on("input blur focus change keyup mouseup",(function(){$(this).val().length>0?$(this).addClass("_input"):$(this).removeClass("_input")})).each((function(){$(this).val().length>0&&$(this).addClass("_input")})),$(".form__field > .form__control").on("animationstart",(function(e){"onAutoFillStart"!==e.originalEvent.animationName&&"onAutoFillCancel"!==e.originalEvent.animationName||$(this).addClass("_input")}));class a{constructor(e,t){this.selector=e,this.options=t,this.init()}init(){$(this.selector).length&&new Swiper(this.selector,{...this.options,speed:800,autoplay:{delay:8e3,stopOnLastSlide:!1},pagination:{el:this.options.paginationEl,type:"fraction",formatFractionCurrent:e=>e<10?"0"+e:e,formatFractionTotal:e=>e<10?"0"+e:e,renderFraction:(e,t)=>'<span class="'+e+'"></span> <span class="swiper-pagination-progress"></span> <span class="'+t+'"></span>'},on:{init:e=>{const t=e.pagination.el.querySelector(".swiper-pagination-progress");let a=e.params.speed,s=e.params.autoplay.delay;t.style.setProperty("--counting-speed",(a+s)/1e3+"s"),t.classList.add("counting")},slideChangeTransitionStart:e=>{const t=e.pagination.el.querySelector(".swiper-pagination-progress");t.classList.remove("counting"),t.offsetWidth,t.classList.add("counting")}}})}}$(".promo__slider").length&&new a(".promo__slider",{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".promo__controls-prev",nextEl:".promo__controls-next"},paginationEl:".promo__pagination"}),$(".promo__categories").length&&new Swiper(".promo__categories",{slidesPerView:1,speed:800,loop:!0,autoplay:{delay:2e3,stopOnLastSlide:!1}}),$(".offers__slider").length&&new Swiper(".offers__slider",{slidesPerView:1,watchOverflow:!0,autoHeight:!0,navigation:{nextEl:".offers__next",prevEl:".offers__prev"}}),$(".goods__slider").length&&new Swiper(".goods__slider",{slidesPerView:"auto",spaceBetween:24,watchOverflow:!0,navigation:{nextEl:".goods__next",prevEl:".goods__prev"},breakpoints:{1661.98:{slidesPerView:4},1819.98:{slidesPerView:5}}}),$(".catalog__block").length&&$(".catalog__block").each((function(e,t){const a=$(t),s=a.find(".catalog__block-slider")[0],n=a.find(".catalog__block-next")[0],i=a.find(".catalog__block-prev")[0];new Swiper(s,{slidesPerView:"auto",spaceBetween:16,watchOverflow:!0,navigation:{nextEl:n,prevEl:i}})})),$(".reviews__slider").length&&(new a(".reviews__slider",{spaceBetween:8,watchOverflow:!0,autoHeight:!0,navigation:{nextEl:".reviews__next",prevEl:".reviews__prev"},paginationEl:".reviews__pagination",breakpoints:{767.98:{slidesPerView:2,spaceBetween:16,autoHeight:!1},1399.98:{slidesPerView:3,spaceBetween:20,autoHeight:!1},1661.98:{slidesPerView:4,spaceBetween:24,autoHeight:!1}}}),$(".review__images").length&&$(".review__images").each((function(e,t){new Swiper(t,{slidesPerView:"auto",spaceBetween:8,watchOverflow:!0})}))),$(".gallery__slider").length&&new a(".gallery__slider",{slidesPerView:1,spaceBetween:180,watchOverflow:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:10,depth:120,modifier:1,slideShadows:!1},navigation:{nextEl:".gallery__next",prevEl:".gallery__prev"},paginationEl:".gallery__pagination"});const s=$(".benefits");if(s.length){const p=$(".benefits__list"),g=$(".benefits__picture"),m=8,_=window.matchMedia("(max-width: 768px)").matches;if(s.on("mousemove",(function(e){if(!_){const t=s.width(),a=s.height(),n=s.offset().left,i=s.offset().top,o=e.pageX-n-t/2,r=e.pageY-i-a/2,l=o/(t/2)*m,c=r/(a/2)*-m;g.css("transform",`\n            perspective(1000px) \n            rotateX(${c}deg) \n            rotateY(${l}deg)\n        `)}})),s.on("mouseleave",(function(){_||g.css("transform","\n            perspective(1000px)\n            rotateX(0deg) \n            rotateY(0deg)\n        ")})),p.each((function(){const e=$(this).attr("start");e&&$(this).css("--start-num",parseInt(e)-1)})),_){const h=p.find(".benefits__item").first();h.addClass("active"),h.find(".benefits__item-description").slideDown(150)}s.on("pointerenter",".benefits__item",(function(e){if("mouse"===e.pointerType){const e=$(this),t=e.find(".benefits__item-description");$(".benefits__item").removeClass("active"),e.addClass("active"),$(".benefits__item-description").not(t).stop().slideUp(150),t.stop().slideDown(150)}})),p.on("pointerleave",".benefits__item",(function(e){if("mouse"===e.pointerType){const e=$(this).find(".benefits__item-description");$(this).removeClass("active"),e.stop().slideUp(150)}})),s.on("click",".benefits__item",(function(e){e.preventDefault();const t=$(this),a=t.find(".benefits__item-description");t.hasClass("active")?(t.removeClass("active"),a.stop().slideUp(300)):($(".benefits__item").removeClass("active"),t.addClass("active"),$(".benefits__item-description").not(a).stop().slideUp(300),a.stop().slideDown(300))}))}const n=$("[data-animate]");if(n.length){function u(e){let t=parseInt(e.text(),10);e.text("0");const a=()=>{const s=t,n=parseInt(e.text(),10),i=Math.ceil(s/20);n+i<s?(e.text(n+i),setTimeout(a,100)):e.text(s)};a()}n.each((function(){const e=$(this);new IntersectionObserver((function(t,a){t[0].isIntersecting&&("number"!==e.data("animate")||e.hasClass("animated")||u(e),e.addClass("animated"),setTimeout((()=>{e.addClass("animation-end")}),600))})).observe(this)}))}var i=document.querySelectorAll('input[type="tel"]'),o=function(e){return e.value.replace(/\D/g,"")},r=function(e){var t=e.target,a=o(t),s=e.clipboardData||window.clipboardData;if(s){var n=s.getData("Text");if(/\D/g.test(n))return void(t.value=a)}},l=function(e){var t=e.target,a=o(t),s=t.selectionStart,n="";if(!a)return t.value="";if(t.value.length==s){if(["7","8","9"].indexOf(a[0])>-1){"9"==a[0]&&(a="7"+a);var i="8"==a[0]?"8":"+7";n=t.value=i+" ",a.length>1&&(n+="("+a.substring(1,4)),a.length>=5&&(n+=") "+a.substring(4,7)),a.length>=8&&(n+="-"+a.substring(7,9)),a.length>=10&&(n+="-"+a.substring(9,11))}else n="+"+a.substring(0,16);t.value=n}else e.data&&/\D/g.test(e.data)&&(t.value=a)},c=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var d of i)d.addEventListener("keydown",c),d.addEventListener("input",l,!1),d.addEventListener("paste",r,!1);new class{constructor(e){this.type=e,this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=$("[data-da]")}init(){this.nodes.each(((e,t)=>{const a=$(t),s=a.data("da").trim().split(","),n={};n.element=a,n.parent=a.parent(),n.destination=$(s[0].trim()),n.breakpoint=s[1]?s[1].trim():"767",n.place=s[2]?s[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((e=>`(${this.type}-width: ${e.breakpoint}px),${e.breakpoint}`)).filter(((e,t,a)=>a.indexOf(e)===t)),this.mediaQueries.forEach((e=>{const t=e.split(","),a=window.matchMedia(t[0]),s=t[1],n=this.оbjects.filter((e=>e.breakpoint===s));a.addListener((()=>{this.mediaHandler(a,n)})),this.mediaHandler(a,n)}))}mediaHandler(e,t){e.matches?t.forEach((e=>{e.index=this.indexInParent(e.parent,e.element),this.moveTo(e.place,e.element,e.destination)})):t.forEach((e=>{e.element.hasClass(this.daClassname)&&this.moveBack(e.parent,e.element,e.index)}))}moveTo(e,t,a){t.addClass(this.daClassname),"last"===e||e>=a.children().length?a.append(t):"first"===e?a.prepend(t):a.children().eq(e).before(t)}moveBack(e,t,a){t.removeClass(this.daClassname),e.children().eq(a).length?e.children().eq(a).before(t):e.append(t)}indexInParent(e,t){return e.children().index(t)}arraySort(e){"min"===this.type?e.sort(((e,t)=>e.breakpoint-t.breakpoint||e.place-t.place)):e.sort(((e,t)=>t.breakpoint-e.breakpoint||t.place-e.place))}}("max").init(),$("#map").length&&ymaps.ready((function(){var e=[55.83060906893058,37.416250999999946],t=new ymaps.Map("map",{center:e,zoom:16,controls:[]}),a=new ymaps.Placemark(e,{},{iconLayout:"default#image",iconImageHref:"/img/placemark.svg",iconImageSize:[73,97],iconImageOffset:[-36,-97]});t.geoObjects.add(a),t.behaviors.disable("scrollZoom"),window.addEventListener("resize",(function(){t.container.fitToViewport()}))}))}))})();