(()=>{"use strict";$((function(){"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),$(document).on("click",(function(e){const t=$(e.target);if((t.is(".catalog__close")||!t.closest(".catalog").length&&$(".catalog").hasClass("catalog--open"))&&($(".catalog").removeClass("catalog--open"),$("body").removeClass("catalog-lock")),t.closest(".header__catalog").length&&($(".catalog").addClass("catalog--open"),$("body").addClass("catalog-lock")),t.closest(".catalog__search-reset").length&&($(".catalog__search-input").val("").trigger("input"),$(".catalog__searchbar").removeClass("active")),t.closest(".catalog__categories-btn").length){const e=t.closest(".catalog__categories-btn"),a=e.parent().index();$(".catalog__categories-btn").removeClass("active"),e.addClass("active"),$(".catalog__block").removeClass("active"),$(".catalog__block").eq(a).addClass("active")}if(t.closest(".menu__btn").length){const e=t.closest(".menu__btn").parent();window.matchMedia("(max-width: 1300px)").matches?(e.toggleClass("active"),e.find(".submenu").slideToggle(300)):e.hasClass("active")?e.removeClass("active"):($(".menu__item.active").removeClass("active"),e.addClass("active"))}t.closest(".menu__btn").length||t.closest(".menu").length||$(".menu__item.active").removeClass("active"),t.closest(".menu").length||t.closest(".icon-menu").length||$(".menu__item.active").removeClass("active"),t.closest(".icon-menu").length&&($(".icon-menu").toggleClass("active"),$(".menu").toggleClass("menu--open"),$("body").toggleClass("menu-lock")),!$(".menu").hasClass("menu--open")||t.closest(".menu").length||t.closest(".icon-menu").length||($(".icon-menu").removeClass("active"),$(".menu").removeClass("menu--open"),$("body").removeClass("menu-lock"))})),$(document).on("keydown",(function(e){"Escape"===e.key&&$(".catalog").hasClass("catalog--open")&&($(".catalog").removeClass("catalog--open"),$("body").removeClass("catalog-lock"))})),$(".catalog__search-input").on("input",(function(){const e=$(this).val().toLowerCase(),t=$(".catalog__search-reset");e.length>0?(t.addClass("active"),$(".catalog__searchbar").addClass("active")):(t.removeClass("active"),$(".catalog__searchbar").removeClass("active"))}));const e=$(".contacts__form");e.on("submit",(function(t){let a=!0;e.find("[data-required]").each((function(){const e=$(this),t=e.attr("type"),s=e.attr("name");var n;e.removeClass("_error"),e.parent().removeClass("_error"),("checkbox"===t&&!e.is(":checked")||"phone"===s&&!function(e){const t=e.replace(/\D/g,"");return t.length>=10&&/^[1-9]\d{9,14}$/.test(t)}(e.val())||"email"===s&&(n=e.val(),!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase()))||""===e.val().trim())&&(e.addClass("_error"),a=!1)})),a||t.preventDefault()})),e.find("[data-required]").on("input change",(function(){const e=$(this);"checkbox"===e.attr("type")?e.is(":checked")&&e.removeClass("_error"):""!==e.val().trim()&&e.removeClass("_error")})),$(".form__field > .form__control").on("input blur focus change keyup mouseup",(function(){$(this).val().length>0?$(this).addClass("_input"):$(this).removeClass("_input")})).each((function(){$(this).val().length>0&&$(this).addClass("_input")})),$(".form__field > .form__control").on("animationstart",(function(e){"onAutoFillStart"!==e.originalEvent.animationName&&"onAutoFillCancel"!==e.originalEvent.animationName||$(this).addClass("_input")}));class t{constructor(e,t){this.selector=e,this.options=t,this.init()}init(){$(this.selector).length&&new Swiper(this.selector,{...this.options,speed:800,autoplay:{delay:8e3,stopOnLastSlide:!1},pagination:{el:this.options.paginationEl,type:"fraction",formatFractionCurrent:e=>e<10?"0"+e:e,formatFractionTotal:e=>e<10?"0"+e:e,renderFraction:(e,t)=>'<span class="'+e+'"></span> <span class="swiper-pagination-progress"></span> <span class="'+t+'"></span>'},on:{init:e=>{const t=e.pagination.el.querySelector(".swiper-pagination-progress");let a=e.params.speed,s=e.params.autoplay.delay;t.style.setProperty("--counting-speed",(a+s)/1e3+"s"),t.classList.add("counting")},slideChangeTransitionStart:e=>{const t=e.pagination.el.querySelector(".swiper-pagination-progress");t.classList.remove("counting"),t.offsetWidth,t.classList.add("counting")}}})}}$(".promo__slider").length&&new t(".promo__slider",{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".promo__controls-prev",nextEl:".promo__controls-next"},paginationEl:".promo__pagination"}),$(".promo__categories").length&&new Swiper(".promo__categories",{slidesPerView:1,speed:800,loop:!0,autoplay:{delay:2e3,stopOnLastSlide:!1}}),$(".offers__slider").length&&new Swiper(".offers__slider",{slidesPerView:1,watchOverflow:!0,navigation:{nextEl:".offers__next",prevEl:".offers__prev"}}),$(".goods__slider").length&&new Swiper(".goods__slider",{slidesPerView:"auto",spaceBetween:24,watchOverflow:!0,navigation:{nextEl:".goods__next",prevEl:".goods__prev"},breakpoints:{1661.98:{slidesPerView:4},1819.98:{slidesPerView:5}}}),$(".catalog__block").length&&$(".catalog__block").each((function(e,t){const a=$(t),s=a.find(".catalog__block-slider")[0],n=a.find(".catalog__block-next")[0],i=a.find(".catalog__block-prev")[0];new Swiper(s,{slidesPerView:4,spaceBetween:16,watchOverflow:!0,navigation:{nextEl:n,prevEl:i},breakpoints:{1661.98:{slidesPerView:4},1819.98:{slidesPerView:5}}})})),$(".reviews__slider").length&&(new t(".reviews__slider",{slidesPerView:4,spaceBetween:24,watchOverflow:!0,navigation:{nextEl:".reviews__next",prevEl:".reviews__prev"},paginationEl:".reviews__pagination",breakpoints:{1661.98:{slidesPerView:3},1819.98:{slidesPerView:4}}}),$(".review__images").length&&$(".review__images").each((function(e,t){new Swiper(t,{slidesPerView:"auto",spaceBetween:8,watchOverflow:!0})}))),$(".gallery__slider").length&&new t(".gallery__slider",{slidesPerView:1,spaceBetween:180,watchOverflow:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:10,depth:120,modifier:1,slideShadows:!1},navigation:{nextEl:".gallery__next",prevEl:".gallery__prev"},paginationEl:".gallery__pagination"});const a=$(".benefits");if(a.length){const e=$(".benefits__list"),t=$(".benefits__picture"),s=8;a.on("mousemove",(function(e){const n=a.width(),i=a.height(),o=a.offset().left,l=a.offset().top,r=e.pageX-o-n/2,c=e.pageY-l-i/2,d=r/(n/2)*s,p=c/(i/2)*-s;t.css("transform",`\n            perspective(1000px) \n            rotateX(${p}deg) \n            rotateY(${d}deg)\n        `)})),a.on("mouseleave",(function(){t.css("transform","\n            perspective(1000px)\n            rotateX(0deg) \n            rotateY(0deg)\n        ")})),e.each((function(){const e=$(this).attr("start");e&&$(this).css("--start-num",parseInt(e)-1)})),a.on("pointerenter",".benefits__item",(function(e){if("mouse"===e.pointerType){const e=$(this),t=e.find(".benefits__item-description");$(".benefits__item").removeClass("active"),e.addClass("active"),$(".benefits__item-description").not(t).stop().slideUp(150),t.stop().slideDown(150)}})),e.on("pointerleave",".benefits__item",(function(e){if("mouse"===e.pointerType){const e=$(this).find(".benefits__item-description");$(this).removeClass("active"),e.stop().slideUp(150)}})),a.on("click",".benefits__item",(function(e){e.preventDefault();const t=$(this),a=t.find(".benefits__item-description");t.hasClass("active")?(t.removeClass("active"),a.stop().slideUp(300)):($(".benefits__item").removeClass("active"),t.addClass("active"),$(".benefits__item-description").not(a).stop().slideUp(300),a.stop().slideDown(300))}))}var s=document.querySelectorAll('input[type="tel"]'),n=function(e){return e.value.replace(/\D/g,"")},i=function(e){var t=e.target,a=n(t),s=e.clipboardData||window.clipboardData;if(s){var i=s.getData("Text");if(/\D/g.test(i))return void(t.value=a)}},o=function(e){var t=e.target,a=n(t),s=t.selectionStart,i="";if(!a)return t.value="";if(t.value.length==s){if(["7","8","9"].indexOf(a[0])>-1){"9"==a[0]&&(a="7"+a);var o="8"==a[0]?"8":"+7";i=t.value=o+" ",a.length>1&&(i+="("+a.substring(1,4)),a.length>=5&&(i+=") "+a.substring(4,7)),a.length>=8&&(i+="-"+a.substring(7,9)),a.length>=10&&(i+="-"+a.substring(9,11))}else i="+"+a.substring(0,16);t.value=i}else e.data&&/\D/g.test(e.data)&&(t.value=a)},l=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var r of s)r.addEventListener("keydown",l),r.addEventListener("input",o,!1),r.addEventListener("paste",i,!1);new class{constructor(e){this.type=e,this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=$("[data-da]")}init(){this.nodes.each(((e,t)=>{const a=$(t),s=a.data("da").trim().split(","),n={};n.element=a,n.parent=a.parent(),n.destination=$(s[0].trim()),n.breakpoint=s[1]?s[1].trim():"767",n.place=s[2]?s[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((e=>`(${this.type}-width: ${e.breakpoint}px),${e.breakpoint}`)).filter(((e,t,a)=>a.indexOf(e)===t)),this.mediaQueries.forEach((e=>{const t=e.split(","),a=window.matchMedia(t[0]),s=t[1],n=this.оbjects.filter((e=>e.breakpoint===s));a.addListener((()=>{this.mediaHandler(a,n)})),this.mediaHandler(a,n)}))}mediaHandler(e,t){e.matches?t.forEach((e=>{e.index=this.indexInParent(e.parent,e.element),this.moveTo(e.place,e.element,e.destination)})):t.forEach((e=>{e.element.hasClass(this.daClassname)&&this.moveBack(e.parent,e.element,e.index)}))}moveTo(e,t,a){t.addClass(this.daClassname),"last"===e||e>=a.children().length?a.append(t):"first"===e?a.prepend(t):a.children().eq(e).before(t)}moveBack(e,t,a){t.removeClass(this.daClassname),e.children().eq(a).length?e.children().eq(a).before(t):e.append(t)}indexInParent(e,t){return e.children().index(t)}arraySort(e){"min"===this.type?e.sort(((e,t)=>e.breakpoint-t.breakpoint||e.place-t.place)):e.sort(((e,t)=>t.breakpoint-e.breakpoint||t.place-e.place))}}("max").init(),$("#map").length&&ymaps.ready((function(){var e=[55.83060906893058,37.416250999999946],t=new ymaps.Map("map",{center:e,zoom:16,controls:[]}),a=new ymaps.Placemark(e,{},{iconLayout:"default#image",iconImageHref:"/img/placemark.svg",iconImageSize:[73,97],iconImageOffset:[-36,-97]});t.geoObjects.add(a),t.behaviors.disable("scrollZoom"),window.addEventListener("resize",(function(){t.container.fitToViewport()}))}))}))})();