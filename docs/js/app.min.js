(()=>{"use strict";$((function(){if($(".preloader").length>0){let _=setInterval((function(){let e=$("#percentage"),t=parseInt(e.text());t<90?e.text(++t):t<95&&"interactive"===document.readyState?e.text(95):t<99&&"complete"===document.readyState&&e.text(99),t>=99&&"complete"===document.readyState&&(clearInterval(_),e.text(100),setTimeout((function(){$("body").removeClass("preloading").addClass("is-loaded")}),300))}),20)}function e(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function t(e){const t=e.replace(/\D/g,"");return t.length>=10&&/^[1-9]\d{9,14}$/.test(t)}"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1,closeClick:"outside"}),$(document).on("click",(function(e){const t=$(e.target);if((t.is(".catalog__close")||!t.closest(".catalog").length&&$(".catalog").hasClass("catalog--open"))&&($(".catalog").removeClass("catalog--open"),$("body").removeClass("catalog-lock")),t.closest(".header__catalog").length&&($(".catalog").addClass("catalog--open"),$("body").addClass("catalog-lock")),t.closest(".catalog__search-reset").length&&($(".catalog__search-input").val("").trigger("input"),$(".catalog__searchbar").removeClass("active")),t.closest(".catalog__categories-btn").length){const e=t.closest(".catalog__categories-btn"),n=e.parent().index();$(".catalog__categories-btn").removeClass("active"),e.addClass("active"),$(".catalog__block").removeClass("active"),$(".catalog__block").eq(n).addClass("active")}if(t.closest(".menu__btn").length){const e=t.closest(".menu__btn").parent();window.matchMedia("(max-width: 1300px)").matches?(e.toggleClass("active"),e.find(".submenu").slideToggle(300)):e.hasClass("active")?e.removeClass("active"):($(".menu__item.active").removeClass("active"),e.addClass("active"))}if(t.closest(".menu__btn").length||t.closest(".menu").length||$(".menu__item.active").removeClass("active"),t.closest(".menu").length||t.closest(".icon-menu").length||$(".menu__item.active").removeClass("active"),t.closest(".icon-menu").length&&($(".icon-menu").toggleClass("active"),$(".menu").toggleClass("menu--open"),$("body").toggleClass("menu-lock")),!$(".menu").hasClass("menu--open")||t.closest(".menu").length||t.closest(".icon-menu").length||($(".icon-menu").removeClass("active"),$(".menu").removeClass("menu--open"),$("body").removeClass("menu-lock")),t.is(".fancybox__backdrop")&&console.log("tatata"),t.is(".faq__question")&&(t.toggleClass("active"),t.next().slideToggle()),t.closest(".filter__block-title").length){const e=t.closest(".filter__block-title"),n=e.next(".filter__block-content");e.toggleClass("active"),n.stop(!0,!0).slideToggle()}if(t.is(".favorite-btn")&&t.toggleClass("active"),t.is(".compare-btn")&&t.toggleClass("active"),t.closest(".shop-item__add-to-cart").length){const e=t.closest(".shop-item__add-to-cart"),n=e.find("span");e.toggleClass("active"),e.hasClass("active")?n.text("в корзине"):n.text("в корзину")}})),$(document).on("keydown",(function(e){"Escape"===e.key&&$(".catalog").hasClass("catalog--open")&&($(".catalog").removeClass("catalog--open"),$("body").removeClass("catalog-lock"))})),$(".catalog__search-input").on("input",(function(){const e=$(this).val().toLowerCase(),t=$(".catalog__search-reset");e.length>0?(t.addClass("active"),$(".catalog__searchbar").addClass("active")):(t.removeClass("active"),$(".catalog__searchbar").removeClass("active"))})),$("form").each((function(){var n;(n=$(this)).on("submit",(function(s){let a=!0;n.find("[data-required]").each((function(){const n=$(this),s=n.attr("type"),i=n.attr("name");n.removeClass("_error"),n.parent().removeClass("_error"),("checkbox"===s&&!n.is(":checked")||"phone"===i&&!t(n.val())||"email"===i&&!e(n.val())||""===n.val().trim())&&(n.addClass("_error"),a=!1)})),a||s.preventDefault()})),n.find("[data-required]").on("input change",(function(){const n=$(this),s=n.attr("type"),a=n.attr("name");"checkbox"===s?n.is(":checked")&&n.removeClass("_error"):"phone"===a?t(n.val())&&n.removeClass("_error"):"email"===a?e(n.val())&&n.removeClass("_error"):""!==n.val().trim()&&n.removeClass("_error")}))})),$(".filter__block-title.active").each((function(){$(this).next(".filter__block-content").slideDown(0)})),$(".form__field > .form__control").on("input blur focus change keyup mouseup",(function(){$(this).val().length>0?$(this).addClass("_input"):$(this).removeClass("_input")})).each((function(){$(this).val().length>0&&$(this).addClass("_input")})),$(".form__field > .form__control").on("animationstart",(function(e){"onAutoFillStart"!==e.originalEvent.animationName&&"onAutoFillCancel"!==e.originalEvent.animationName||$(this).addClass("_input")}));class n{constructor(e,t){this.selector=e,this.options=t,this.init()}init(){$(this.selector).length&&new Swiper(this.selector,{...this.options,speed:800,autoplay:{delay:8e3,stopOnLastSlide:!1},pagination:{el:this.options.paginationEl,type:"fraction",formatFractionCurrent:e=>e<10?"0"+e:e,formatFractionTotal:e=>e<10?"0"+e:e,renderFraction:(e,t)=>'<span class="'+e+'"></span> <span class="swiper-pagination-progress"></span> <span class="'+t+'"></span>'},on:{init:e=>{const t=e.pagination.el.querySelector(".swiper-pagination-progress");let n=e.params.speed,s=e.params.autoplay.delay;t.style.setProperty("--counting-speed",(n+s)/1e3+"s"),t.classList.add("counting")},slideChangeTransitionStart:e=>{const t=e.pagination.el.querySelector(".swiper-pagination-progress");t.classList.remove("counting"),t.offsetWidth,t.classList.add("counting")}}})}}$(".promo__slider").length&&new n(".promo__slider",{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".promo__controls-prev",nextEl:".promo__controls-next"},paginationEl:".promo__pagination"}),$(".promo__categories").length&&new Swiper(".promo__categories",{slidesPerView:1,speed:800,loop:!0,autoplay:{delay:2e3,stopOnLastSlide:!1}}),$(".offers__slider").length&&new Swiper(".offers__slider",{slidesPerView:1,watchOverflow:!0,autoHeight:!0,navigation:{nextEl:".offers__next",prevEl:".offers__prev"}}),$(".goods__slider").length&&new Swiper(".goods__slider",{slidesPerView:"auto",spaceBetween:24,watchOverflow:!0,navigation:{nextEl:".goods__next",prevEl:".goods__prev"},breakpoints:{1661.98:{slidesPerView:4},1819.98:{slidesPerView:5}}}),$(".catalog__block").length&&$(".catalog__block").each((function(e,t){const n=$(t),s=n.find(".catalog__block-slider")[0],a=n.find(".catalog__block-next")[0],i=n.find(".catalog__block-prev")[0];new Swiper(s,{slidesPerView:"auto",spaceBetween:16,watchOverflow:!0,navigation:{nextEl:a,prevEl:i}})})),$(".reviews__slider").length&&(new n(".reviews__slider",{spaceBetween:8,watchOverflow:!0,autoHeight:!0,navigation:{nextEl:".reviews__next",prevEl:".reviews__prev"},paginationEl:".reviews__pagination",breakpoints:{767.98:{slidesPerView:2,spaceBetween:16,autoHeight:!1},1399.98:{slidesPerView:3,spaceBetween:20,autoHeight:!1},1661.98:{slidesPerView:4,spaceBetween:24,autoHeight:!1}}}),$(".review__images").length&&$(".review__images").each((function(e,t){new Swiper(t,{slidesPerView:"auto",spaceBetween:8,watchOverflow:!0})}))),$(".gallery__slider").length&&new n(".gallery__slider",{slidesPerView:1,spaceBetween:180,watchOverflow:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:10,depth:120,modifier:1,slideShadows:!1},navigation:{nextEl:".gallery__next",prevEl:".gallery__prev"},paginationEl:".gallery__pagination"}),$(".support__nav").length&&new Swiper(".support__nav",{slidesPerView:"auto",spaceBetween:4,initialSlide:$(".support__nav-item .support__nav-link.active").parent().index()}),$(".blog__slider").length&&window.innerWidth>767.98&&new Swiper(".blog__slider",{slidesPerView:1,spaceBetween:24,watchOverflow:!0,navigation:{nextEl:".blog__next",prevEl:".blog__prev"},breakpoints:{767.98:{slidesPerView:3},1199.98:{slidesPerView:3},1661.98:{slidesPerView:4}}}),$(".article__slider").length&&$(".article__slider").each((function(e,t){const s=$(t),a=s.find(".article__next")[0],i=s.find(".article__prev")[0],o=s.find(".article__pagination")[0];new n(s[0],{slidesPerView:1,watchOverflow:!0,navigation:{nextEl:a,prevEl:i},paginationEl:o})})),$(".shop__brands-slider").length&&new Swiper(".shop__brands-slider",{slidesPerView:"auto",spaceBetween:24,watchOverflow:!0,navigation:{nextEl:".shop__brands-next",prevEl:".shop__brands-prev"},breakpoints:{767.98:{spaceBetween:42}}}),$(".shop__categories").length&&new Swiper(".shop__categories",{slidesPerView:"auto",spaceBetween:16,watchOverflow:!0}),$(".shop-item").length&&$(".shop-item").each((function(e,t){const n=$(t).find(".shop-item__slider");if(!n.length)return;const s=$(t).find(".shop-item__pagination")[0],a=new Swiper(n[0],{slidesPerView:1,speed:0,lazy:!0,watchOverflow:!0,pagination:{el:s,clickable:!0}}),i=$('<div class="shop-item__hover-areas"></div>');i.css({position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",zIndex:10});const o=a.slides.length;for(let e=0;e<o;e++){const t=$('<div class="shop-item__hover-area"></div>');t.css({flex:"1 1 0",cursor:"pointer"}),t.on("mouseenter",(()=>{a.slideTo(e)})),i.append(t)}n.css("position","relative").append(i)}));const s=$(".benefits");if(s.length){const g=$(".benefits__list"),u=$(".benefits__picture"),f=8,v=window.matchMedia("(max-width: 768px)").matches;if(s.on("mousemove",(function(e){if(!v){const t=s.width(),n=s.height(),a=s.offset().left,i=s.offset().top,o=e.pageX-a-t/2,l=e.pageY-i-n/2,r=o/(t/2)*f,d=l/(n/2)*-f;u.css("transform",`\n            perspective(1000px) \n            rotateX(${d}deg) \n            rotateY(${r}deg)\n        `)}})),s.on("mouseleave",(function(){v||u.css("transform","\n            perspective(1000px)\n            rotateX(0deg) \n            rotateY(0deg)\n        ")})),g.each((function(){const e=$(this).attr("start");e&&$(this).css("--start-num",parseInt(e)-1)})),v){const m=g.find(".benefits__item").first();m.addClass("active"),m.find(".benefits__item-description").slideDown(150)}s.on("pointerenter",".benefits__item",(function(e){if("mouse"===e.pointerType){const e=$(this),t=e.find(".benefits__item-description");$(".benefits__item").removeClass("active"),e.addClass("active"),$(".benefits__item-description").not(t).stop().slideUp(150),t.stop().slideDown(150)}})),g.on("pointerleave",".benefits__item",(function(e){if("mouse"===e.pointerType){const e=$(this).find(".benefits__item-description");$(this).removeClass("active"),e.stop().slideUp(150)}})),s.on("click",".benefits__item",(function(e){e.preventDefault();const t=$(this),n=t.find(".benefits__item-description");t.hasClass("active")?(t.removeClass("active"),n.stop().slideUp(300)):($(".benefits__item").removeClass("active"),t.addClass("active"),$(".benefits__item-description").not(n).stop().slideUp(300),n.stop().slideDown(300))}))}const a=$("[data-animate]");if(a.length){function w(e){let t=parseInt(e.text(),10);e.text("0");const n=()=>{const s=t,a=parseInt(e.text(),10),i=Math.ceil(s/20);a+i<s?(e.text(a+i),setTimeout(n,100)):e.text(s)};n()}a.each((function(){const e=$(this);new IntersectionObserver((function(t,n){t[0].isIntersecting&&("number"!==e.data("animate")||e.hasClass("animated")||w(e),e.addClass("animated"),setTimeout((()=>{e.addClass("animation-end")}),600))})).observe(this)}))}var i=document.querySelectorAll('input[type="tel"]'),o=function(e){return e.value.replace(/\D/g,"")},l=function(e){var t=e.target,n=o(t),s=e.clipboardData||window.clipboardData;if(s){var a=s.getData("Text");if(/\D/g.test(a))return void(t.value=n)}},r=function(e){var t=e.target,n=o(t),s=t.selectionStart,a="";if(!n)return t.value="";t.value.length==s?(n.length>11&&(n=n.substring(0,11)),a="+7 (",n.length>=2&&(a+=n.substring(1,4)),n.length>=5&&(a+=") "+n.substring(4,7)),n.length>=8&&(a+="-"+n.substring(7,9)),n.length>=10&&(a+="-"+n.substring(9,11)),t.value=a):e.data&&/\D/g.test(e.data)&&(t.value=n)},d=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var c of i)c.addEventListener("focus",(function(){this.value||(this.value="+7 ")})),c.addEventListener("keydown",d),c.addEventListener("input",r,!1),c.addEventListener("paste",l,!1);new class{constructor(e){this.type=e,this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=$("[data-da]")}init(){this.nodes.each(((e,t)=>{const n=$(t),s=n.data("da").trim().split(","),a={};a.element=n,a.parent=n.parent(),a.destination=$(s[0].trim()),a.breakpoint=s[1]?s[1].trim():"767",a.place=s[2]?s[2].trim():"last",a.index=this.indexInParent(a.parent,a.element),this.оbjects.push(a)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((e=>`(${this.type}-width: ${e.breakpoint}px),${e.breakpoint}`)).filter(((e,t,n)=>n.indexOf(e)===t)),this.mediaQueries.forEach((e=>{const t=e.split(","),n=window.matchMedia(t[0]),s=t[1],a=this.оbjects.filter((e=>e.breakpoint===s));n.addListener((()=>{this.mediaHandler(n,a)})),this.mediaHandler(n,a)}))}mediaHandler(e,t){e.matches?t.forEach((e=>{e.index=this.indexInParent(e.parent,e.element),this.moveTo(e.place,e.element,e.destination)})):t.forEach((e=>{e.element.hasClass(this.daClassname)&&this.moveBack(e.parent,e.element,e.index)}))}moveTo(e,t,n){t.addClass(this.daClassname),"last"===e||e>=n.children().length?n.append(t):"first"===e?n.prepend(t):n.children().eq(e).before(t)}moveBack(e,t,n){t.removeClass(this.daClassname),e.children().eq(n).length?e.children().eq(n).before(t):e.append(t)}indexInParent(e,t){return e.children().index(t)}arraySort(e){"min"===this.type?e.sort(((e,t)=>e.breakpoint-t.breakpoint||e.place-t.place)):e.sort(((e,t)=>t.breakpoint-e.breakpoint||t.place-e.place))}}("max").init(),$("#map").length&&ymaps.ready((function(){var e=[55.83060906893058,37.416250999999946],t=new ymaps.Map("map",{center:e,zoom:16,controls:[]}),n=new ymaps.Placemark(e,{},{iconLayout:"default#image",iconImageHref:"img/placemark.svg",iconImageSize:[73,97],iconImageOffset:[-36,-97]});t.geoObjects.add(n),window.innerWidth,t.behaviors.disable("scrollZoom"),t.events.add("mousedown",(function(e){t.behaviors.isEnabled("drag")&&t.behaviors.disable("drag")})),t.events.add("mouseup",(function(e){t.behaviors.enable("drag")})),window.addEventListener("resize",(function(){t.container.fitToViewport()}))}));class p{static openDropdown=null;constructor(e){this.$select=$(e),this.placeholder=this.$select.data("placeholder"),this.listCaption=this.$select.data("list-caption"),this.defaultText=this.getDefaultText(),this.selectName=this.$select.attr("name"),this.$options=this.$select.find("option"),this.$dropdown=null,this.initialState={},this.init()}init(){this.$select.length&&(this.saveInitialState(),this.$select.addClass("hidden"),this.renderDropdown(),this.setupEvents())}saveInitialState(){const e=this.$select.find("option:selected");this.initialState={selectedText:e.text(),selectedValue:e.val()}}getDefaultText(){const e=this.$select.find("option[selected]");return e.length?e.text():this.placeholder||this.$select.find("option:selected").text()}renderDropdown(){const e=`\n            <button type="button" class="dropdown__button icon-chevron-down" \n                    aria-expanded="false" \n                    aria-haspopup="true" \n                    ${this.$select.is(":disabled")?"disabled":""}>\n                <span class="dropdown__button-text">${this.defaultText}</span>\n            </button>\n        `;this.$dropdown=$("<div>").addClass("dropdown");const t=this.listCaption?`<div class="dropdown__caption">${this.listCaption}</div>`:"";this.$dropdown.html(`\n            ${e}\n            <div class="dropdown__body" aria-hidden="true">\n               <div class="dropdown__content">\n                    ${t}\n                    <ul class="dropdown__list" role="listbox"></ul>\n                </div>\n            </div>\n        `);const n=this.$dropdown.find(".dropdown__list");this.$options.each(((e,t)=>{const s=$(t),a=s.val(),i=s.text(),o=s.is(":selected"),l=s.is(":disabled"),r=$("<li>").attr("role","option").data("value",a).attr("aria-checked",o).addClass("dropdown__list-item").text(i);o&&r.addClass("selected"),l&&(r.addClass("disabled"),r.attr("aria-disabled","true")),n.append(r)})),this.$select.after(this.$dropdown)}setupEvents(){this.$dropdown.find(".dropdown__button").on("click",(e=>{e.stopPropagation();const t=this.$dropdown.hasClass("visible");this.toggleDropdown(!t)})),this.$dropdown.on("click",".dropdown__list-item",(e=>{e.stopPropagation();const t=$(e.currentTarget);t.hasClass("disabled")||this.selectOption(t)})),$(document).on("click",(()=>this.closeDropdown())),$(document).on("keydown",(e=>{"Escape"===e.key&&this.closeDropdown()})),this.$select.closest("form").on("reset",(()=>this.restoreInitialState()))}toggleDropdown(e){e&&p.openDropdown&&p.openDropdown!==this&&p.openDropdown.closeDropdown();const t=this.$dropdown.find(".dropdown__body"),n=this.$dropdown.find(".dropdown__list"),s=n[0].scrollHeight>n[0].clientHeight;if(this.$dropdown.toggleClass("visible",e),this.$dropdown.find(".dropdown__button").attr("aria-expanded",e),t.attr("aria-hidden",!e),e){p.openDropdown=this,this.$dropdown.removeClass("dropdown-top");const e=t[0].getBoundingClientRect(),a=window.innerHeight;e.bottom>a&&this.$dropdown.addClass("dropdown-top"),n.toggleClass("has-scroll",s)}else p.openDropdown===this&&(p.openDropdown=null)}closeDropdown(){this.toggleDropdown(!1)}selectOption(e){const t=e.data("value"),n=e.text();this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false"),e.addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button").addClass("selected"),this.$dropdown.find(".dropdown__button-text").text(n),this.$select.val(t).trigger("change"),this.closeDropdown()}restoreInitialState(){if(void 0!==this.placeholder)this.$select.prop("selectedIndex",-1).trigger("change"),this.$dropdown.find(".dropdown__button-text").text(this.placeholder),this.$dropdown.find(".dropdown__button").removeClass("selected"),this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false");else{const e=this.initialState;this.$select.val(e.selectedValue).trigger("change"),this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false");const t=this.$dropdown.find(`.dropdown__list-item[data-value="${e.selectedValue}"]`);t.length&&t.addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button-text").text(e.selectedText),this.$dropdown.find(".dropdown__button").addClass("selected")}}syncSelectedOption(){const e=this.$select.find("option:selected"),t=e.val(),n=e.text();this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false"),this.$dropdown.find(`.dropdown__list-item[data-value="${t}"]`).addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button-text").text(n)}}$(".select").each(((e,t)=>{new p(t)}));const h=$(".range");h.length>0&&h.each((function(){const e=$(this).find(".range__slider")[0],t=$(this).find(".range__control--start"),n=$(this).find(".range__control--end"),s=[t,n],a=$(this).closest("form").find('button[type="reset"]'),i=parseInt(t.attr("min")),o=parseInt(n.attr("max"))||1e6,l=Math.round(.05*(o-i));function r(e){return parseInt(e.replace(/\s/g,""))}function d(e){const t=parseInt(e.attr("maxlength")),n=t-Math.floor((t-1)/4);e.attr("maxlength",n)}function c(e){const t=$(e),n=t.siblings(".range__unit");if(0===n.length)return;const s=window.getComputedStyle(e),a=function(e,t){const n=document.createElement("span"),s=window.getComputedStyle(t);n.style.position="absolute",n.style.visibility="hidden",n.style.whiteSpace="nowrap",n.style.font=s.font,n.style.letterSpacing=s.letterSpacing,n.textContent=String(e||""),document.body.appendChild(n);const a=n.offsetWidth;return document.body.removeChild(n),a}(t.val(),e),i=parseFloat(s.paddingLeft)||0,o=parseFloat(s.paddingRight)||0,l=e.clientWidth,r=Math.max(0,l-i-o);let d;const c=s.textAlign;d="center"===c?i+Math.max(0,(r-a)/2):"right"===c||"end"===c?l-o-a:i;const p=n.last(),h=d+a+4,_=l-o-p.outerWidth(),g=Math.min(h,_);p.css("left",g+"px");const u=n.first(),f=u.outerWidth();let v=d-f-4;const m=i;let w=Math.max(m,v);w+f+4>g&&(w=Math.max(m,g-f-4)),u.css("left",w+"px"),n.addClass("ready")}d(t),d(n),t.val(t.val()),n.val(n.val()),noUiSlider.create(e,{start:[r(t.val()),r(n.val())],connect:!0,margin:l,range:{min:[i],max:[o]}}),e.noUiSlider.on("update",(function(e,t){s[t].val(Math.round(e[t])),c(s[t][0])})),$.each(s,(function(t,n){$(n).on("change",(function(n){((t,n)=>{let s=[null,null];s[t]=r(n),e.noUiSlider.set(s)})(t,$(this).val())})),$(n).on("input",(function(e){let t=$(this).val();t=t.replace(/[^\d]/g,""),$(this).val(t),$(this).addClass("active")})),$(n).on("input change",(function(){c(this)})),c(n[0])}));const p=new ResizeObserver((()=>{c(t[0]),c(n[0])}));p.observe(t[0]),p.observe(n[0]),a.length>0&&a.on("click",(function(){setTimeout((function(){t.val(t[0].defaultValue),n.val(n[0].defaultValue),e.noUiSlider.set([r(t[0].defaultValue),r(n[0].defaultValue)])}),0)}))}))}))})();