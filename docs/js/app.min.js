(()=>{"use strict";$((function(){if($(".preloader").length>0){let g=setInterval((function(){let e=$("#percentage"),t=parseInt(e.text());t<90?e.text(++t):t<95&&"interactive"===document.readyState?e.text(95):t<99&&"complete"===document.readyState&&e.text(99),t>=99&&"complete"===document.readyState&&(clearInterval(g),e.text(100),setTimeout((function(){$("body").removeClass("preloading").addClass("is-loaded")}),300))}),20)}function e(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function t(e){const t=e.replace(/\D/g,"");return t.length>=10&&/^[1-9]\d{9,14}$/.test(t)}"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1,closeClick:"outside"}),$(document).on("click",(function(e){const t=$(e.target);if((t.is(".catalog__close")||!t.closest(".catalog").length&&$(".catalog").hasClass("catalog--open"))&&($(".catalog").removeClass("catalog--open"),$("body").removeClass("catalog-lock")),t.closest(".header__catalog").length&&($(".catalog").addClass("catalog--open"),$("body").addClass("catalog-lock")),t.closest(".catalog__search-reset").length&&($(".catalog__search-input").val("").trigger("input"),$(".catalog__searchbar").removeClass("active")),t.closest(".catalog__categories-btn").length){const e=t.closest(".catalog__categories-btn"),s=e.parent().index();$(".catalog__categories-btn").removeClass("active"),e.addClass("active"),$(".catalog__block").removeClass("active"),$(".catalog__block").eq(s).addClass("active")}if(t.closest(".menu__btn").length){const e=t.closest(".menu__btn").parent();window.matchMedia("(max-width: 1300px)").matches?(e.toggleClass("active"),e.find(".submenu").slideToggle(300)):e.hasClass("active")?e.removeClass("active"):($(".menu__item.active").removeClass("active"),e.addClass("active"))}if(t.closest(".menu__btn").length||t.closest(".menu").length||$(".menu__item.active").removeClass("active"),t.closest(".menu").length||t.closest(".icon-menu").length||$(".menu__item.active").removeClass("active"),t.closest(".icon-menu").length&&($(".icon-menu").toggleClass("active"),$(".menu").toggleClass("menu--open"),$("body").toggleClass("menu-lock")),!$(".menu").hasClass("menu--open")||t.closest(".menu").length||t.closest(".icon-menu").length||($(".icon-menu").removeClass("active"),$(".menu").removeClass("menu--open"),$("body").removeClass("menu-lock")),t.is(".fancybox__backdrop")&&console.log("tatata"),t.is(".faq__question")&&(t.toggleClass("active"),t.next().slideToggle()),t.closest(".filter__block-title").length){const e=t.closest(".filter__block-title"),s=e.next(".filter__block-content");e.toggleClass("active"),s.stop(!0,!0).slideToggle()}if(t.closest(".favorite-btn").length&&t.closest(".favorite-btn").toggleClass("active"),t.closest(".compare-btn").length&&t.toggleClass("active"),t.closest(".cart-btn").length){const e=t.closest(".cart-btn"),s=e.find("span");e.toggleClass("active"),e.hasClass("active")?s.text("в корзине"):s.text("в корзину")}if((t.is(".filter__close")||!t.closest(".filter").length&&$(".filter").hasClass("filter--open"))&&($(".filter").removeClass("filter--open"),$("body").removeClass("filters-lock")),t.is(".shop__toggler-filters")&&($(".filter").addClass("filter--open"),$("body").addClass("filters-lock")),t.is(".goods-item__tab")&&($(".goods-item__tab").removeClass("active"),t.addClass("active"),$(".goods-item__tabs-content").removeClass("active"),$(".goods-item__tabs-content").eq(t.parent().index()).addClass("active")),t.is(".goods-item__description-link")){const e=t.attr("href"),s=$(e);if(s.length){const e=s.closest(".goods-item__tabs-content").index();$(".goods-item__tab").eq(e).trigger("click")}}t.is(".notify__close")&&t.closest(".notify").addClass("hidden"),(t.is(".article__sidebar-close")||!t.closest(".article__sidebar").length&&$(".article__sidebar").hasClass("article__sidebar--open")||t.is(".sidebar__link"))&&($(".article__sidebar").removeClass("article__sidebar--open"),$("body").removeClass("article-lock")),t.is(".article__nav-btn")&&($(".article__sidebar").addClass("article__sidebar--open"),$("body").addClass("article-lock"))})),$(document).on("keydown",(function(e){"Escape"===e.key&&$(".catalog").hasClass("catalog--open")&&($(".catalog").removeClass("catalog--open"),$("body").removeClass("catalog-lock"))})),$(".catalog__search-input").on("input",(function(){const e=$(this).val().toLowerCase(),t=$(".catalog__search-reset");e.length>0?(t.addClass("active"),$(".catalog__searchbar").addClass("active")):(t.removeClass("active"),$(".catalog__searchbar").removeClass("active"))})),$("form").each((function(){var s;(s=$(this)).on("submit",(function(n){let i=!0;s.find("[data-required]").each((function(){const s=$(this),n=s.attr("type"),a=s.attr("name");s.removeClass("_error"),s.parent().removeClass("_error"),("checkbox"===n&&!s.is(":checked")||"phone"===a&&!t(s.val())||"email"===a&&!e(s.val())||""===s.val().trim())&&(s.addClass("_error"),i=!1)})),i||n.preventDefault()})),s.find("[data-required]").on("input change",(function(){const s=$(this),n=s.attr("type"),i=s.attr("name");"checkbox"===n?s.is(":checked")&&s.removeClass("_error"):"phone"===i?t(s.val())&&s.removeClass("_error"):"email"===i?e(s.val())&&s.removeClass("_error"):""!==s.val().trim()&&s.removeClass("_error")}))})),$(".filter__block-title.active").each((function(){$(this).next(".filter__block-content").slideDown(0)})),$(".shop__grid-input").on("change",(function(){const e=$(this).val(),t=$(".shop__items");"rows"===e?t.addClass("shop__items--row"):t.removeClass("shop__items--row")})),$(".quantity-block").each((function(){const e=$(this),t=e.find(".quantity-block__input"),s=e.find(".quantity-block__up"),n=e.find(".quantity-block__down");s.on("click",(function(){let e=parseInt(t.val())||0;e<999&&t.val(e+1)})),n.on("click",(function(){let e=parseInt(t.val())||0;e>1&&t.val(e-1)})),t.on("input",(function(){let e=t.val().replace(/\D/g,"");e=parseInt(e)||1,e<1&&(e=1),e>999&&(e=999),t.val(e)})),t.on("paste",(function(e){const t=e.originalEvent.clipboardData.getData("text");/\D/.test(t)&&e.preventDefault()}))})),$(".form__field > .form__control").on("input blur focus change keyup mouseup",(function(){$(this).val().length>0?$(this).addClass("_input"):$(this).removeClass("_input")})).each((function(){$(this).val().length>0&&$(this).addClass("_input")})),$(".form__field > .form__control").on("animationstart",(function(e){"onAutoFillStart"!==e.originalEvent.animationName&&"onAutoFillCancel"!==e.originalEvent.animationName||$(this).addClass("_input")}));class s{constructor(e,t){this.selector=e,this.options=t,this.init()}init(){$(this.selector).length&&new Swiper(this.selector,{...this.options,speed:800,autoplay:{delay:8e3,stopOnLastSlide:!1},pagination:{el:this.options.paginationEl,type:"fraction",formatFractionCurrent:e=>e<10?"0"+e:e,formatFractionTotal:e=>e<10?"0"+e:e,renderFraction:(e,t)=>'<span class="'+e+'"></span> <span class="swiper-pagination-progress"></span> <span class="'+t+'"></span>'},on:{init:e=>{const t=e.pagination.el.querySelector(".swiper-pagination-progress");let s=e.params.speed,n=e.params.autoplay.delay;t.style.setProperty("--counting-speed",(s+n)/1e3+"s"),t.classList.add("counting")},slideChangeTransitionStart:e=>{const t=e.pagination.el.querySelector(".swiper-pagination-progress");t.classList.remove("counting"),t.offsetWidth,t.classList.add("counting")}}})}}if($(".promo__slider").length&&new s(".promo__slider",{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".promo__controls-prev",nextEl:".promo__controls-next"},paginationEl:".promo__pagination"}),$(".promo__categories").length&&new Swiper(".promo__categories",{slidesPerView:1,speed:800,loop:!0,autoplay:{delay:2e3,stopOnLastSlide:!1}}),$(".offers__slider").length&&new Swiper(".offers__slider",{slidesPerView:1,watchOverflow:!0,autoHeight:!0,navigation:{nextEl:".offers__next",prevEl:".offers__prev"}}),$(".goods__slider").length&&new Swiper(".goods__slider",{slidesPerView:"auto",spaceBetween:24,watchOverflow:!0,navigation:{nextEl:".goods__next",prevEl:".goods__prev"},breakpoints:{1661.98:{slidesPerView:4},1819.98:{slidesPerView:5}}}),$(".catalog__block").length&&$(".catalog__block").each((function(e,t){const s=$(t),n=s.find(".catalog__block-slider")[0],i=s.find(".catalog__block-next")[0],a=s.find(".catalog__block-prev")[0];new Swiper(n,{slidesPerView:"auto",spaceBetween:16,watchOverflow:!0,navigation:{nextEl:i,prevEl:a}})})),$(".reviews__slider").length&&new s(".reviews__slider",{spaceBetween:8,watchOverflow:!0,autoHeight:!0,navigation:{nextEl:".reviews__next",prevEl:".reviews__prev"},paginationEl:".reviews__pagination",breakpoints:{767.98:{slidesPerView:2,spaceBetween:16,autoHeight:!1},1399.98:{slidesPerView:3,spaceBetween:20,autoHeight:!1},1661.98:{slidesPerView:4,spaceBetween:24,autoHeight:!1}}}),$(".review__images").length&&$(".review__images").each((function(e,t){new Swiper(t,{slidesPerView:"auto",spaceBetween:8,watchOverflow:!0})})),$(".gallery__slider").length&&new s(".gallery__slider",{slidesPerView:1,spaceBetween:180,watchOverflow:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:10,depth:120,modifier:1,slideShadows:!1},navigation:{nextEl:".gallery__next",prevEl:".gallery__prev"},paginationEl:".gallery__pagination"}),$(".nav-slider").length&&new Swiper(".nav-slider",{slidesPerView:"auto",spaceBetween:4,initialSlide:$(".nav-slider__item .nav-slider__link.active").parent().index()}),$(".blog__slider").length&&window.innerWidth>767.98&&new Swiper(".blog__slider",{slidesPerView:1,spaceBetween:24,watchOverflow:!0,navigation:{nextEl:".blog__next",prevEl:".blog__prev"},breakpoints:{767.98:{slidesPerView:3},1199.98:{slidesPerView:3},1661.98:{slidesPerView:4}}}),$(".article__slider").length&&$(".article__slider").each((function(e,t){const n=$(t),i=n.find(".article__next")[0],a=n.find(".article__prev")[0],o=n.find(".article__pagination")[0];new s(n[0],{slidesPerView:1,watchOverflow:!0,navigation:{nextEl:i,prevEl:a},paginationEl:o})})),$(".shop__brands-slider").length&&new Swiper(".shop__brands-slider",{slidesPerView:"auto",spaceBetween:24,watchOverflow:!0,navigation:{nextEl:".shop__brands-next",prevEl:".shop__brands-prev"},breakpoints:{767.98:{spaceBetween:42}}}),$(".shop__categories").length&&new Swiper(".shop__categories",{slidesPerView:"auto",spaceBetween:16,watchOverflow:!0}),$(".shop-item").length&&$(".shop-item").each((function(e,t){const s=$(t).find(".shop-item__slider");if(!s.length)return;const n=$(t).find(".shop-item__pagination")[0],i=new Swiper(s[0],{slidesPerView:1,speed:0,lazy:!0,watchOverflow:!0,pagination:{el:n,clickable:!0}}),a=$('<div class="shop-item__hover-areas"></div>');a.css({position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",zIndex:10});const o=i.slides.length;for(let e=0;e<o;e++){const t=$('<div class="shop-item__hover-area"></div>');t.css({flex:"1 1 0",cursor:"pointer"}),t.on("mouseenter",(()=>{i.slideTo(e)})),a.append(t)}s.css("position","relative").append(a)})),$(".goods-item__slider").length){const u=new Swiper(".goods-item__thumbs",{slidesPerView:"auto",spaceBetween:8,breakpoints:{767.98:{spaceBetween:12}}}),f=new Swiper(".goods-item__main-slider",{slidesPerView:1,speed:0,watchOverflow:!0,thumbs:{swiper:u}}),m=$('<div class="good-item__hover-areas"></div>');m.css({position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",zIndex:10});const v=f.slides.length;for(let w=0;w<v;w++){const b=$('<div class="good-item__hover-area"></div>');b.css({flex:"1 1 0",cursor:"pointer"}),b.on("mouseenter",(()=>{f.slideTo(w)})),m.append(b)}$(".goods-item__main-slider").css("position","relative").append(m)}$(".shop__slider").length&&window.innerWidth>767.98&&new s(".shop__slider-block",{spaceBetween:8,watchOverflow:!0,slidesPerView:"auto",navigation:{nextEl:".shop__next",prevEl:".shop__prev"},paginationEl:".shop__slider-pagination",breakpoints:{767.98:{spaceBetween:16},1399.98:{spaceBetween:20},1661.98:{spaceBetween:32}}});const n=$(".benefits");if(n.length){const C=$(".benefits__list"),x=$(".benefits__picture"),y=8,k=window.matchMedia("(max-width: 768px)").matches;if(n.on("mousemove",(function(e){if(!k){const t=n.width(),s=n.height(),i=n.offset().left,a=n.offset().top,o=e.pageX-i-t/2,l=e.pageY-a-s/2,r=o/(t/2)*y,d=l/(s/2)*-y;x.css("transform",`\n            perspective(1000px) \n            rotateX(${d}deg) \n            rotateY(${r}deg)\n        `)}})),n.on("mouseleave",(function(){k||x.css("transform","\n            perspective(1000px)\n            rotateX(0deg) \n            rotateY(0deg)\n        ")})),C.each((function(){const e=$(this).attr("start");e&&$(this).css("--start-num",parseInt(e)-1)})),k){const S=C.find(".benefits__item").first();S.addClass("active"),S.find(".benefits__item-description").slideDown(150)}n.on("pointerenter",".benefits__item",(function(e){if("mouse"===e.pointerType){const e=$(this),t=e.find(".benefits__item-description");$(".benefits__item").removeClass("active"),e.addClass("active"),$(".benefits__item-description").not(t).stop().slideUp(150),t.stop().slideDown(150)}})),C.on("pointerleave",".benefits__item",(function(e){if("mouse"===e.pointerType){const e=$(this).find(".benefits__item-description");$(this).removeClass("active"),e.stop().slideUp(150)}})),n.on("click",".benefits__item",(function(e){e.preventDefault();const t=$(this),s=t.find(".benefits__item-description");t.hasClass("active")?(t.removeClass("active"),s.stop().slideUp(300)):($(".benefits__item").removeClass("active"),t.addClass("active"),$(".benefits__item-description").not(s).stop().slideUp(300),s.stop().slideDown(300))}))}const i=$("[data-animate]");if(i.length){function E(e){let t=parseInt(e.text(),10);e.text("0");const s=()=>{const n=t,i=parseInt(e.text(),10),a=Math.ceil(n/20);i+a<n?(e.text(i+a),setTimeout(s,100)):e.text(n)};s()}i.each((function(){const e=$(this);new IntersectionObserver((function(t,s){t[0].isIntersecting&&("number"!==e.data("animate")||e.hasClass("animated")||E(e),e.addClass("animated"),setTimeout((()=>{e.addClass("animation-end")}),600))})).observe(this)}))}var a=document.querySelectorAll('input[type="tel"]'),o=function(e){return e.value.replace(/\D/g,"")},l=function(e){var t=e.target,s=o(t),n=e.clipboardData||window.clipboardData;if(n){var i=n.getData("Text");if(/\D/g.test(i))return void(t.value=s)}},r=function(e){var t=e.target,s=o(t),n=t.selectionStart,i="";if(!s)return t.value="";t.value.length==n?(s.length>11&&(s=s.substring(0,11)),i="+7 (",s.length>=2&&(i+=s.substring(1,4)),s.length>=5&&(i+=") "+s.substring(4,7)),s.length>=8&&(i+="-"+s.substring(7,9)),s.length>=10&&(i+="-"+s.substring(9,11)),t.value=i):e.data&&/\D/g.test(e.data)&&(t.value=s)},d=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var c of a)c.addEventListener("focus",(function(){this.value||(this.value="+7 ")})),c.addEventListener("keydown",d),c.addEventListener("input",r,!1),c.addEventListener("paste",l,!1);new class{constructor(e){this.type=e,this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=$("[data-da]")}init(){this.nodes.each(((e,t)=>{const s=$(t),n=s.data("da").trim().split(","),i={};i.element=s,i.parent=s.parent(),i.destination=$(n[0].trim()),i.breakpoint=n[1]?n[1].trim():"767",i.place=n[2]?n[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.оbjects.push(i)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((e=>`(${this.type}-width: ${e.breakpoint}px),${e.breakpoint}`)).filter(((e,t,s)=>s.indexOf(e)===t)),this.mediaQueries.forEach((e=>{const t=e.split(","),s=window.matchMedia(t[0]),n=t[1],i=this.оbjects.filter((e=>e.breakpoint===n));s.addListener((()=>{this.mediaHandler(s,i)})),this.mediaHandler(s,i)}))}mediaHandler(e,t){e.matches?t.forEach((e=>{e.index=this.indexInParent(e.parent,e.element),this.moveTo(e.place,e.element,e.destination)})):t.forEach((e=>{e.element.hasClass(this.daClassname)&&this.moveBack(e.parent,e.element,e.index)}))}moveTo(e,t,s){t.addClass(this.daClassname),"last"===e||e>=s.children().length?s.append(t):"first"===e?s.prepend(t):s.children().eq(e).before(t)}moveBack(e,t,s){t.removeClass(this.daClassname),e.children().eq(s).length?e.children().eq(s).before(t):e.append(t)}indexInParent(e,t){return e.children().index(t)}arraySort(e){"min"===this.type?e.sort(((e,t)=>e.breakpoint-t.breakpoint||e.place-t.place)):e.sort(((e,t)=>t.breakpoint-e.breakpoint||t.place-e.place))}}("max").init(),$("#map").length&&ymaps.ready((function(){var e=[55.83060906893058,37.416250999999946],t=new ymaps.Map("map",{center:e,zoom:16,controls:[]}),s=new ymaps.Placemark(e,{},{iconLayout:"default#image",iconImageHref:"img/placemark.svg",iconImageSize:[73,97],iconImageOffset:[-36,-97]});t.geoObjects.add(s),window.innerWidth,t.behaviors.disable("scrollZoom"),t.events.add("mousedown",(function(e){t.behaviors.isEnabled("drag")&&t.behaviors.disable("drag")})),t.events.add("mouseup",(function(e){t.behaviors.enable("drag")})),window.addEventListener("resize",(function(){t.container.fitToViewport()}))}));class p{static openDropdown=null;constructor(e){this.$select=$(e),this.placeholder=this.$select.data("placeholder"),this.listCaption=this.$select.data("list-caption"),this.defaultText=this.getDefaultText(),this.selectName=this.$select.attr("name"),this.$options=this.$select.find("option"),this.$dropdown=null,this.initialState={},this.init()}init(){this.$select.length&&(this.saveInitialState(),this.$select.addClass("hidden"),this.renderDropdown(),this.setupEvents())}saveInitialState(){const e=this.$select.find("option:selected");this.initialState={selectedText:e.text(),selectedValue:e.val()}}getDefaultText(){const e=this.$select.find("option[selected]");return e.length?e.text():this.placeholder||this.$select.find("option:selected").text()}renderDropdown(){const e=`\n            <button type="button" class="dropdown__button icon-chevron-down" \n                    aria-expanded="false" \n                    aria-haspopup="true" \n                    ${this.$select.is(":disabled")?"disabled":""}>\n                <span class="dropdown__button-text">${this.defaultText}</span>\n            </button>\n        `;this.$dropdown=$("<div>").addClass("dropdown");const t=this.listCaption?`<div class="dropdown__caption">${this.listCaption}</div>`:"";this.$dropdown.html(`\n            ${e}\n            <div class="dropdown__body" aria-hidden="true">\n               <div class="dropdown__content">\n                    ${t}\n                    <ul class="dropdown__list" role="listbox"></ul>\n                </div>\n            </div>\n        `);const s=this.$dropdown.find(".dropdown__list");this.$options.each(((e,t)=>{const n=$(t),i=n.val(),a=n.text(),o=n.is(":selected"),l=n.is(":disabled"),r=$("<li>").attr("role","option").data("value",i).attr("aria-checked",o).addClass("dropdown__list-item").text(a);o&&r.addClass("selected"),l&&(r.addClass("disabled"),r.attr("aria-disabled","true")),s.append(r)})),this.$select.after(this.$dropdown)}setupEvents(){this.$dropdown.find(".dropdown__button").on("click",(e=>{e.stopPropagation();const t=this.$dropdown.hasClass("visible");this.toggleDropdown(!t)})),this.$dropdown.on("click",".dropdown__list-item",(e=>{e.stopPropagation();const t=$(e.currentTarget);t.hasClass("disabled")||this.selectOption(t)})),$(document).on("click",(()=>this.closeDropdown())),$(document).on("keydown",(e=>{"Escape"===e.key&&this.closeDropdown()})),this.$select.closest("form").on("reset",(()=>this.restoreInitialState()))}toggleDropdown(e){e&&p.openDropdown&&p.openDropdown!==this&&p.openDropdown.closeDropdown();const t=this.$dropdown.find(".dropdown__body"),s=this.$dropdown.find(".dropdown__list"),n=s[0].scrollHeight>s[0].clientHeight;if(this.$dropdown.toggleClass("visible",e),this.$dropdown.find(".dropdown__button").attr("aria-expanded",e),t.attr("aria-hidden",!e),e){p.openDropdown=this,this.$dropdown.removeClass("dropdown-top");const e=t[0].getBoundingClientRect(),i=window.innerHeight;e.bottom>i&&this.$dropdown.addClass("dropdown-top"),s.toggleClass("has-scroll",n)}else p.openDropdown===this&&(p.openDropdown=null)}closeDropdown(){this.toggleDropdown(!1)}selectOption(e){const t=e.data("value"),s=e.text();this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false"),e.addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button").addClass("selected"),this.$dropdown.find(".dropdown__button-text").text(s),this.$select.val(t).trigger("change"),this.closeDropdown()}restoreInitialState(){if(void 0!==this.placeholder)this.$select.prop("selectedIndex",-1).trigger("change"),this.$dropdown.find(".dropdown__button-text").text(this.placeholder),this.$dropdown.find(".dropdown__button").removeClass("selected"),this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false");else{const e=this.initialState;this.$select.val(e.selectedValue).trigger("change"),this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false");const t=this.$dropdown.find(`.dropdown__list-item[data-value="${e.selectedValue}"]`);t.length&&t.addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button-text").text(e.selectedText),this.$dropdown.find(".dropdown__button").addClass("selected")}}syncSelectedOption(){const e=this.$select.find("option:selected"),t=e.val(),s=e.text();this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false"),this.$dropdown.find(`.dropdown__list-item[data-value="${t}"]`).addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button-text").text(s)}}$(".select").each(((e,t)=>{new p(t)}));const h=$(".range");function _(){let e=!0;$(".order__step").each((function(t){const s=$(this),n=$(".order__step").eq(t+1);!function(e){let t=!0;e.find("[data-required]").each((function(){const e=$(this),s=e.val().trim();s?("email"===e.attr("type")&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||(t=!1)),"tel"===e.attr("type")&&(/^[0-9\-\+\(\)\s]{5,20}$/.test(s)||(t=!1))):t=!1}));const s=e.find("input[type=radio]").map((function(){return $(this).attr("name")})).get();return[...new Set(s)].forEach((function(s){e.find(`input[name="${s}"]`).length&&(e.find(`input[name="${s}"]:checked`).length||(t=!1))})),t}(s)?(s.removeClass("order__step--done"),n.length&&n.addClass("hidden"),e=!1):(s.addClass("order__step--done"),n.length&&n.removeClass("hidden"))}));const t=$(".order__form button[type=submit]"),s=$(".order__form-notify--warning"),n=$(".order__form-notify--success");e?(t.prop("disabled",!1),s.addClass("hidden"),n.removeClass("hidden")):(t.prop("disabled",!0),s.removeClass("hidden"),n.addClass("hidden"))}h.length>0&&h.each((function(){const e=$(this).find(".range__slider")[0],t=$(this).find(".range__control--start"),s=$(this).find(".range__control--end"),n=[t,s],i=$(this).closest("form"),a=i.find('button[type="reset"]'),o=$(`button[type="reset"][form="${i.attr("id")}"]`),l=$.merge(a,o),r=parseInt(t.attr("min")),d=parseInt(s.attr("max"))||1e6,c=Math.round(.05*(d-r));function p(e){return parseInt(e.replace(/\s/g,""))}function h(e){const t=parseInt(e.attr("maxlength")),s=t-Math.floor((t-1)/4);e.attr("maxlength",s)}function _(e){const t=$(e),s=t.siblings(".range__unit");if(0===s.length)return;const n=window.getComputedStyle(e),i=function(e,t){const s=document.createElement("span"),n=window.getComputedStyle(t);s.style.position="absolute",s.style.visibility="hidden",s.style.whiteSpace="nowrap",s.style.font=n.font,s.style.letterSpacing=n.letterSpacing,s.textContent=String(e||""),document.body.appendChild(s);const i=s.offsetWidth;return document.body.removeChild(s),i}(t.val(),e),a=parseFloat(n.paddingLeft)||0,o=parseFloat(n.paddingRight)||0,l=e.clientWidth,r=Math.max(0,l-a-o);let d;const c=n.textAlign;d="center"===c?a+Math.max(0,(r-i)/2):"right"===c||"end"===c?l-o-i:a;const p=s.last(),h=d+i+4,_=l-o-p.outerWidth(),g=Math.min(h,_);p.css("left",g+"px");const u=s.first(),f=u.outerWidth();let m=d-f-4;const v=a;let w=Math.max(v,m);w+f+4>g&&(w=Math.max(v,g-f-4)),u.css("left",w+"px"),s.addClass("ready")}h(t),h(s),t.val(t.val()),s.val(s.val()),noUiSlider.create(e,{start:[p(t.val()),p(s.val())],connect:!0,margin:c,range:{min:[r],max:[d]}}),e.noUiSlider.on("update",(function(e,t){n[t].val(Math.round(e[t])),_(n[t][0])})),$.each(n,(function(t,s){$(s).on("change",(function(s){((t,s)=>{let n=[null,null];n[t]=p(s),e.noUiSlider.set(n)})(t,$(this).val())})),$(s).on("input",(function(e){let t=$(this).val();t=t.replace(/[^\d]/g,""),$(this).val(t),$(this).addClass("active")})),$(s).on("input change",(function(){_(this)})),_(s[0])}));const g=new ResizeObserver((()=>{_(t[0]),_(s[0])}));g.observe(t[0]),g.observe(s[0]),l.length>0&&l.on("click",(function(){setTimeout((function(){t.val(t[0].defaultValue),s.val(s[0].defaultValue),e.noUiSlider.set([p(t[0].defaultValue),p(s[0].defaultValue)])}),0)}))})),$(document).on("input change",".order__step input, .order__step textarea",(function(){_()})),_()}))})();